# Yolov2 custom output category
# Yolov2 自定义输出类别

在训练yolo模型中，本作者采用了Yolov2的预训练模型来训练了门，车，行人，建筑物，树这五个类别，而在我们sence.name中我们门是第一类（0），车是第二类（1），行人是第三类（2），建筑物是第四类（3），树是第五类（4）。但是，由于项目要求，本人只想采用得到只有行人的boundingbox作为网络的输出而不是训练的五类，有什么方法能够实现呢？

首先，第一个方法当然是你可以拿Yolov2的官方提供的预训练模型进行行人的训练，这样模型只会检测到行人，而在网络的最后会输出行人的boundingbox。

其次，COCO数据集训练（包含行人，行人作为第一类），可以改动想改配置文件来实现只输出一类，此方法不做说明。

最后，但是由于本人时间有限，所以想在原来训练五类的模型基础上得到行人（这里请注意，行人在我训练模型的名字列表中是第三类，其序号是2）如果用上面COCO数据集中的方法是行不通的，但是如果我只想得到行人的boundingbox，那该怎么办呢？

注意：在Yolov2主文件中找到image.c或detect.c（此处作者可能与其他人的文件命名不一样）文件，并在该文件下的draw_detectiongs函数里面做相应的修改，修改如下：

(1)在第一个for循环中加入以下代码：

if (strcmp(names[class], "person") !=0 )

{

continue;

}

(2)在第二个for循环中加入以下代码：

if(class != 2)

{

continue;

}

即使此处添加了一个类别的判断其是否为行人，但是模型做检测时是检测出了五类，只不过显示其中的行人的boundingbox而已，这样做检测的精度当然没有纯训练行人的精度高，所以如果有充分时间就不建议这样做，但是如果你想偷懒就可以尝试一下这种方式。

